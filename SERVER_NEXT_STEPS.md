# –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

## ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!

**–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:**
- ‚úÖ Composer 2.9.2 (–≤ `/home/d/dsc23ytp/bin/composer`)
- ‚úÖ Node.js v24.12.0 (—á–µ—Ä–µ–∑ nvm)
- ‚úÖ npm v11.6.2

---

## üîç –®–ê–ì 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É—Ç–µ–π

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
which composer
which node
which npm
```

–ó–∞–ø–∏—à–∏—Ç–µ –ø—É—Ç–∏ - –æ–Ω–∏ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –¥–ª—è `.env` (–µ—Å–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç).

**–û–∂–∏–¥–∞–µ–º—ã–µ –ø—É—Ç–∏:**
- Composer: `/home/d/dsc23ytp/bin/composer`
- Node.js: `/home/d/dsc23ytp/.nvm/versions/node/v24.12.0/bin/node`
- npm: `/home/d/dsc23ytp/.nvm/versions/node/v24.12.0/bin/npm`

---

## üîç –®–ê–ì 2: –ü–µ—Ä–µ—Ö–æ–¥ –≤ –ø—Ä–æ–µ–∫—Ç

```bash
cd ~/laravel/public_html
```

---

## üîç –®–ê–ì 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø—Ä–æ–µ–∫—Ç–∞

### 3.1. Composer –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
composer install --no-dev --optimize-autoloader
```

### 3.2. npm –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å frontend)

```bash
cd frontend
npm install
cd ..
```

---

## üîç –®–ê–ì 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env

–û—Ç–∫—Ä–æ–π—Ç–µ `.env`:

```bash
nano .env
```

–î–æ–±–∞–≤—å—Ç–µ/–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç):

```env
# –ü—É—Ç–∏ –∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
NPM_PATH=/home/d/dsc23ytp/.nvm/versions/node/v24.12.0/bin/npm
COMPOSER_PATH=/home/d/dsc23ytp/bin/composer

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–µ–ø–ª–æ—è
DEPLOY_SERVER_URL=https://your-server.com
DEPLOY_TOKEN=your-secret-token
GIT_REPOSITORY_URL=https://github.com/username/repo.git
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ö–æ–º–∞–Ω–¥–∞ deploy –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –ø—É—Ç–∏, –Ω–æ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –≤—Ä—É—á–Ω—É—é –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏.

---

## üîç –®–ê–ì 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã Deploy

### 5.1. Dry-run (–ø—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)

```bash
php8.2 artisan deploy --dry-run
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
- ‚úÖ npm –Ω–∞–π–¥–µ–Ω –∏ –≤–µ—Ä—Å–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞
- ‚úÖ –í—Å–µ —à–∞–≥–∏ –¥–µ–ø–ª–æ—è
- ‚úÖ –ë–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π

### 5.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

```bash
cd frontend
npm run build
cd ..
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—è–≤–∏–ª–∞—Å—å –ø–∞–ø–∫–∞ `frontend/dist` —Å —Å–æ–±—Ä–∞–Ω–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏.

---

## üîç –®–ê–ì 6: –ü–µ—Ä–≤—ã–π –¥–µ–ø–ª–æ–π (–µ—Å–ª–∏ –≤—Å–µ –≥–æ—Ç–æ–≤–æ)

```bash
php8.2 artisan deploy
```

–ò–ª–∏ —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º:

```bash
php8.2 artisan deploy --message="–ü–µ—Ä–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞"
```

---

## üìù –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–π
php8.2 -v
composer -V
node -v
npm -v

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É—Ç–µ–π
which php8.2
which composer
which node
which npm

# Laravel –∫–æ–º–∞–Ω–¥—ã
php8.2 artisan --version
php8.2 artisan migrate
php8.2 artisan config:clear
php8.2 artisan cache:clear

# Deploy –∫–æ–º–∞–Ω–¥—ã
php8.2 artisan deploy --dry-run
php8.2 artisan deploy --help
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `php8.2`** –≤–º–µ—Å—Ç–æ `php` –¥–ª—è Laravel –∫–æ–º–∞–Ω–¥
2. **–ü—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É:** `~/laravel/public_html`
3. **Composer –¥–æ—Å—Ç—É–ø–µ–Ω –≥–ª–æ–±–∞–ª—å–Ω–æ** —á–µ—Ä–µ–∑ `~/bin/composer`
4. **Node.js –∏ npm –¥–æ—Å—Ç—É–ø–Ω—ã** —á–µ—Ä–µ–∑ nvm (–≤–µ—Ä—Å–∏—è v24.12.0)

---

## üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### Composer –Ω–µ –Ω–∞–π–¥–µ–Ω

```bash
export PATH="$HOME/bin:$PATH"
composer -V
```

### npm –Ω–µ –Ω–∞–π–¥–µ–Ω

```bash
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"
nvm use --lts
npm -v
```

### –û—à–∏–±–∫–∏ –ø—Ä–∏ –¥–µ–ø–ª–æ–µ

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç–∏ –≤—Ä—É—á–Ω—É—é
php8.2 artisan deploy --dry-run --verbose

# –ò–ª–∏ —É–∫–∞–∂–∏—Ç–µ –ø—É—Ç–∏ —è–≤–Ω–æ
php8.2 artisan deploy --npm-path=/home/d/dsc23ytp/.nvm/versions/node/v24.12.0/bin/npm --dry-run
```

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ –∫–æ–º–∞–Ω–¥–∞ `php8.2 artisan deploy` –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

